 rear = (rear - 1 + capacity) % capacity;